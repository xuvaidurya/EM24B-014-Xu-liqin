{
  "hash": "30fe0411bfd7f454fa093b7d6190afe2",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Xuliqin Practice1127-1\"\noutput: \n  html_document:\n    toc: FALSE\n---\n\n::: {#866fc158 .cell execution_count=1}\n``` {.python .cell-code}\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport requests\nfrom bs4 import BeautifulSoup\nimport textwrap\n```\n:::\n\n\n::: {#b2c06a63 .cell execution_count=2}\n``` {.python .cell-code}\npd.read_csv(\n    \"https://vincentarelbundock.github.io/Rdatasets/csv/dplyr/storms.csv\", nrows=10\n)\n```\n\n::: {.cell-output .cell-output-display execution_count=49}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>rownames</th>\n      <th>name</th>\n      <th>year</th>\n      <th>month</th>\n      <th>day</th>\n      <th>hour</th>\n      <th>lat</th>\n      <th>long</th>\n      <th>status</th>\n      <th>category</th>\n      <th>wind</th>\n      <th>pressure</th>\n      <th>tropicalstorm_force_diameter</th>\n      <th>hurricane_force_diameter</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>1</td>\n      <td>Amy</td>\n      <td>1975</td>\n      <td>6</td>\n      <td>27</td>\n      <td>0</td>\n      <td>27.5</td>\n      <td>-79.0</td>\n      <td>tropical depression</td>\n      <td>NaN</td>\n      <td>25</td>\n      <td>1013</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>2</td>\n      <td>Amy</td>\n      <td>1975</td>\n      <td>6</td>\n      <td>27</td>\n      <td>6</td>\n      <td>28.5</td>\n      <td>-79.0</td>\n      <td>tropical depression</td>\n      <td>NaN</td>\n      <td>25</td>\n      <td>1013</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>3</td>\n      <td>Amy</td>\n      <td>1975</td>\n      <td>6</td>\n      <td>27</td>\n      <td>12</td>\n      <td>29.5</td>\n      <td>-79.0</td>\n      <td>tropical depression</td>\n      <td>NaN</td>\n      <td>25</td>\n      <td>1013</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>4</td>\n      <td>Amy</td>\n      <td>1975</td>\n      <td>6</td>\n      <td>27</td>\n      <td>18</td>\n      <td>30.5</td>\n      <td>-79.0</td>\n      <td>tropical depression</td>\n      <td>NaN</td>\n      <td>25</td>\n      <td>1013</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>5</td>\n      <td>Amy</td>\n      <td>1975</td>\n      <td>6</td>\n      <td>28</td>\n      <td>0</td>\n      <td>31.5</td>\n      <td>-78.8</td>\n      <td>tropical depression</td>\n      <td>NaN</td>\n      <td>25</td>\n      <td>1012</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>6</td>\n      <td>Amy</td>\n      <td>1975</td>\n      <td>6</td>\n      <td>28</td>\n      <td>6</td>\n      <td>32.4</td>\n      <td>-78.7</td>\n      <td>tropical depression</td>\n      <td>NaN</td>\n      <td>25</td>\n      <td>1012</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>7</td>\n      <td>Amy</td>\n      <td>1975</td>\n      <td>6</td>\n      <td>28</td>\n      <td>12</td>\n      <td>33.3</td>\n      <td>-78.0</td>\n      <td>tropical depression</td>\n      <td>NaN</td>\n      <td>25</td>\n      <td>1011</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>8</td>\n      <td>Amy</td>\n      <td>1975</td>\n      <td>6</td>\n      <td>28</td>\n      <td>18</td>\n      <td>34.0</td>\n      <td>-77.0</td>\n      <td>tropical depression</td>\n      <td>NaN</td>\n      <td>30</td>\n      <td>1006</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>9</td>\n      <td>Amy</td>\n      <td>1975</td>\n      <td>6</td>\n      <td>29</td>\n      <td>0</td>\n      <td>34.4</td>\n      <td>-75.8</td>\n      <td>tropical storm</td>\n      <td>NaN</td>\n      <td>35</td>\n      <td>1004</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>10</td>\n      <td>Amy</td>\n      <td>1975</td>\n      <td>6</td>\n      <td>29</td>\n      <td>6</td>\n      <td>34.0</td>\n      <td>-74.8</td>\n      <td>tropical storm</td>\n      <td>NaN</td>\n      <td>40</td>\n      <td>1002</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: {#6ac69a29 .cell execution_count=3}\n``` {.python .cell-code}\nurl = \"http://aeturrell.com/research\"\npage = requests.get(url)\npage.text[:300]\n```\n\n::: {.cell-output .cell-output-display execution_count=50}\n```\n'<!DOCTYPE html>\\n<html xmlns=\"http://www.w3.org/1999/xhtml\" lang=\"en\" xml:lang=\"en\"><head>\\n\\n<meta charset=\"utf-8\">\\n<meta name=\"generator\" content=\"quarto-1.6.39\">\\n\\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, user-scalable=yes\">\\n\\n<meta name=\"author\" content=\"Arthur Turrell\">\\n'\n```\n:::\n:::\n\n\n::: {#e486a070 .cell execution_count=4}\n``` {.python .cell-code}\nsoup = BeautifulSoup(page.text, \"html.parser\")\nprint(soup.prettify()[60000:60500])\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nTJDdmFjYW5jaWVzJTJDQ09WSUQtMTk=\" data-index=\"1\" data-listing-date-modified-sort=\"NaN\" data-listing-date-sort=\"1651359600000\" data-listing-file-modified-sort=\"1687564711698\" data-listing-reading-time-sort=\"1\" data-listing-word-count-sort=\"182\">\n         <div class=\"project-content listing-pub-info\">\n          <p>\n           Draca, Mirko, Emma Duchini, Roland Rathelot, Arthur Turrell, and Giulia Vattuone. Revolution in Progress? The Rise of Remote Work in the UK.\n           <i>\n            Univers\n```\n:::\n:::\n\n\n::: {#d0877062 .cell execution_count=5}\n``` {.python .cell-code}\n# Get all paragraphs\nall_paras = soup.find_all(\"p\")\n# Just show one of the paras\nall_paras[1]\n```\n\n::: {.cell-output .cell-output-display execution_count=52}\n```\n<p>Blundell, Jack, Emma Duchini, Stefania Simion, and Arthur Turrell. \"Pay transparency and gender equality.\" <i>American Economic Journal: Economic Policy</i> (2024). doi: <a href=\"https://www.aeaweb.org/articles?id=10.1257/pol.20220766&amp;from=f\"><code>10.1257/pol.20220766</code></a></p>\n```\n:::\n:::\n\n\n::: {#5b1f44a5 .cell execution_count=6}\n``` {.python .cell-code}\nall_paras[1].text\n```\n\n::: {.cell-output .cell-output-display execution_count=53}\n```\n'Blundell, Jack, Emma Duchini, Stefania Simion, and Arthur Turrell. \"Pay transparency and gender equality.\" American Economic Journal: Economic Policy (2024). doi: 10.1257/pol.20220766'\n```\n:::\n:::\n\n\n::: {#2fd66af4 .cell execution_count=7}\n``` {.python .cell-code}\nprojects = soup.find_all(\"div\", class_=\"project-content listing-pub-info\")\nprojects = [x.text.strip() for x in projects]\nprojects[:4]\n```\n\n::: {.cell-output .cell-output-display execution_count=54}\n```\n['Blundell, Jack, Emma Duchini, Stefania Simion, and Arthur Turrell. \"Pay transparency and gender equality.\" American Economic Journal: Economic Policy (2024). doi: 10.1257/pol.20220766',\n 'Botta, Federico, Robin Lovelace, Laura Gilbert, and Arthur Turrell. \"Packaging code and data for reproducible research: A case study of journey time statistics.\" Environment and Planning B: Urban Analytics and City Science (2024): 23998083241267331. doi: 10.1177/23998083241267331',\n 'Kalamara, Eleni, Arthur Turrell, Chris Redl, George Kapetanios, and Sujit Kapadia. \"Making text count: economic forecasting using newspaper text.\" Journal of Applied Econometrics 37, no. 5 (2022): 896-919. doi: 10.1002/jae.2907',\n 'Turrell, A., Speigner, B., Copple, D., Djumalieva, J. and Thurgood, J., 2021. Is the UKâ€™s productivity puzzle mostly driven by occupational mismatch? An analysis using big data on job vacancies. Labour Economics, 71, p.102013. doi: 10.1016/j.labeco.2021.102013']\n```\n:::\n:::\n\n\n::: {#6f43411b .cell execution_count=8}\n``` {.python .cell-code}\ndf_list = pd.read_html(\n    \"https://simple.wikipedia.org/wiki/FIFA_World_Cup\", match=\"Sweden\"\n)\n# Retrieve first and only entry from list of dataframes\ndf = df_list[0]\ndf.head()\n```\n\n::: {.cell-output .cell-output-display execution_count=55}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Years</th>\n      <th>Hosts</th>\n      <th>Winners</th>\n      <th>Score</th>\n      <th>Runner's-up</th>\n      <th>Third place</th>\n      <th>Score.1</th>\n      <th>Fourth place</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>1930 Details</td>\n      <td>Uruguay</td>\n      <td>Uruguay</td>\n      <td>4 - 2</td>\n      <td>Argentina</td>\n      <td>United States</td>\n      <td>[note 1]</td>\n      <td>Yugoslavia</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>1934 Details</td>\n      <td>Italy</td>\n      <td>Italy</td>\n      <td>2 - 1</td>\n      <td>Czechoslovakia</td>\n      <td>Germany</td>\n      <td>3 - 2</td>\n      <td>Austria</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>1938 Details</td>\n      <td>France</td>\n      <td>Italy</td>\n      <td>4 - 2</td>\n      <td>Hungary</td>\n      <td>Brazil</td>\n      <td>4 - 2</td>\n      <td>Sweden</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>1950 Details</td>\n      <td>Brazil</td>\n      <td>Uruguay</td>\n      <td>2 - 1</td>\n      <td>Brazil</td>\n      <td>Sweden</td>\n      <td>[note 2]</td>\n      <td>Spain</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>1954 Details</td>\n      <td>Switzerland</td>\n      <td>West Germany</td>\n      <td>3 - 2</td>\n      <td>Hungary</td>\n      <td>Austria</td>\n      <td>3 - 1</td>\n      <td>Uruguay</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n",
    "supporting": [
      "practice1127-1_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\" data-relocate-top=\"true\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}